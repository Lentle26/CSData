{"ast":null,"code":"import _classCallCheck from\"/home/lgentle/repos/CSCapstoneProject/react/cscapstone/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/lgentle/repos/CSCapstoneProject/react/cscapstone/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/lgentle/repos/CSCapstoneProject/react/cscapstone/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/lgentle/repos/CSCapstoneProject/react/cscapstone/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _objectSpread from\"/home/lgentle/repos/CSCapstoneProject/react/cscapstone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";//import logo from \"./logo.svg\";\nimport*as React from\"react\";import Container from\"@mui/material/Container\";import TopBar from\"./TopBar\";import Box from\"@mui/material/Box\";import Paper from\"@mui/material/Paper\";import MovieDetail from\"./MovieDetail\";import{styled}from\"@mui/material/styles\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import{defaultMovie}from\"./DefaultMovie\";import LoadPage from\"../LoadPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Item=styled(Paper)(function(_ref){var theme=_ref.theme;return _objectSpread(_objectSpread({backgroundColor:theme.palette.mode===\"dark\"?\"#1A2027\":\"#fff\"},theme.typography.body2),{},{padding:theme.spacing(1),textAlign:\"center\",color:theme.palette.text.secondary});});var Offset=styled('div')(function(_ref2){var theme=_ref2.theme;return theme.mixins.toolbar;});export default function Movie(props){var _useParams=useParams(),id=_useParams.id;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(MovieQuery,{id:id,user:props.user})});}function compareLists(list1,list2){var keys=[\"watch\",\"love\",\"hate\",\"later\",\"like\"];for(var i=0;i<keys.length;i++){if(list1[keys[i]]!=list2[keys[i]]){return false;}}return true;}var MovieQuery=/*#__PURE__*/function(_React$Component){_inherits(MovieQuery,_React$Component);var _super=_createSuper(MovieQuery);function MovieQuery(){var _this;_classCallCheck(this,MovieQuery);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={movie:defaultMovie,credit:{cast:[],crew:[]},loading:true,streaming:[],lists:{watch:false,love:false,hate:false,later:false,like:false}};return _this;}_createClass(MovieQuery,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"/allMovie/\"+this.props.id).then(function(res){var movie=res[\"data\"][\"results\"];console.log(movie);_this2.setState(movie);});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var _this3=this;axios.get(\"/lists/\"+this.props.id).then(function(res){var lists=res[\"data\"];console.log(_this3.state.lists);console.log(lists);if(!compareLists(lists,_this3.state.lists)){_this3.setState(_objectSpread(_objectSpread({},_this3.state),{},{lists:lists}));}});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{maxWidth:\"xl\",children:/*#__PURE__*/_jsxs(Box,{component:\"main\",sx:{flexGrow:1,paddingLeft:8},children:[/*#__PURE__*/_jsx(TopBar,{}),/*#__PURE__*/_jsx(Offset,{}),/*#__PURE__*/_jsx(LoadPage,{open:this.state.movie==defaultMovie}),/*#__PURE__*/_jsx(MovieDetail,{movie:this.state.movie,credit:this.state.credit,streaming:this.state.streaming,user:this.props.user,lists:this.state.lists})]})})});}}]);return MovieQuery;}(React.Component);","map":{"version":3,"sources":["/home/lgentle/repos/CSCapstoneProject/react/cscapstone/src/components/MovieDetail/Movie.js"],"names":["React","Container","TopBar","Box","Paper","MovieDetail","styled","useParams","axios","defaultMovie","LoadPage","Item","theme","backgroundColor","palette","mode","typography","body2","padding","spacing","textAlign","color","text","secondary","Offset","mixins","toolbar","Movie","props","id","user","compareLists","list1","list2","keys","i","length","MovieQuery","state","movie","credit","cast","crew","loading","streaming","lists","watch","love","hate","later","like","get","then","res","console","log","setState","flexGrow","paddingLeft","Component"],"mappings":"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","sourcesContent":["//import logo from \"./logo.svg\";\nimport * as React from \"react\";\nimport Container from \"@mui/material/Container\";\nimport TopBar from \"./TopBar\";\nimport Box from \"@mui/material/Box\";\nimport Paper from \"@mui/material/Paper\";\nimport MovieDetail from \"./MovieDetail\";\nimport { styled } from \"@mui/material/styles\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { defaultMovie } from \"./DefaultMovie\";\nimport LoadPage from \"../LoadPage\";\n\nconst Item = styled(Paper)(({ theme }) => ({\n  backgroundColor: theme.palette.mode === \"dark\" ? \"#1A2027\" : \"#fff\",\n  ...theme.typography.body2,\n  padding: theme.spacing(1),\n  textAlign: \"center\",\n  color: theme.palette.text.secondary,\n}));\n\nconst Offset = styled('div')(({ theme }) => theme.mixins.toolbar);\n\n\nexport default function Movie(props) {\n  let { id } = useParams();\n  return (\n    <div>\n      <MovieQuery id={id} user={props.user} />\n    </div>\n  );\n}\n\nfunction compareLists(list1, list2) {\n  let keys = [\"watch\",\"love\",\"hate\",\"later\",\"like\"]\n\n  for (let i = 0; i < keys.length; i++) {\n    if(list1[keys[i]]!=list2[keys[i]]) {\n      return false\n    }\n  }     \n    return true\n}\n\nclass MovieQuery extends React.Component {\n  state = {\n    movie: defaultMovie,\n    credit: { cast: [], crew: [] },\n    loading: true,\n    streaming: [],\n    lists: {\n      watch: false,\n      love: false,\n      hate: false,\n      later: false,\n      like: false,\n    },\n  };\n  componentDidMount() {\n    axios.get(\"/allMovie/\" + this.props.id).then((res) => {\n      const movie = res[\"data\"][\"results\"];\n      console.log(movie);\n      this.setState(movie);\n    });\n  }\n  componentDidUpdate() {\n    axios.get(\"/lists/\" + this.props.id).then((res) => {\n      const lists = res[\"data\"];\n      console.log(this.state.lists);\n      console.log(lists);\n      if(!compareLists(lists, this.state.lists)) {\n        this.setState({\n         ...this.state,\n          lists: lists,\n        });\n      }\n    });\n  }\n\n\n  render() {\n    return (\n      <div>\n        \n      <Container maxWidth=\"xl\">\n        <Box component=\"main\" sx={{ flexGrow: 1, paddingLeft: 8 }}>\n        <TopBar />\n      <Offset />\n\n              <LoadPage open={this.state.movie == defaultMovie} />\n              <MovieDetail\n                movie={this.state.movie}\n                credit={this.state.credit}\n                streaming={this.state.streaming}\n                user={this.props.user}\n                lists={this.state.lists}\n              />\n          </Box>\n        </Container>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}