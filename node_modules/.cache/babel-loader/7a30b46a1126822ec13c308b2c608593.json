{"ast":null,"code":"var _jsxFileName = \"/home/lgentle/repos/CSCapstoneProject/react/cscapstone/src/components/GridPageContents/PageContents.js\";\nimport * as React from \"react\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\nimport ImageListItemBar from \"@mui/material/ImageListItemBar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport LocalMoviesIcon from \"@mui/icons-material/LocalMovies\";\nimport { genreIds } from \"./genreIds\";\nimport { languages } from \"./languages\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction getNumberCols() {\n  const {\n    innerWidth: width\n  } = window;\n  return Math.floor(width / 200);\n}\n\nfunction getGenreID(genre) {\n  for (let i = 0; i < genreIds.length; i++) {\n    if (genreIds[i][\"name\"] === genre) {\n      return genreIds[i][\"id\"];\n    }\n  }\n}\n\nfunction getLanguageID(lang) {\n  for (let i = 0; i < languages.length; i++) {\n    if (languages[i][\"name\"] === lang) {\n      return languages[i][\"id\"];\n    }\n  }\n}\n\nfunction getSortingMethod(sort) {\n  if (sort == 0) {\n    return \"vote_average\";\n  } else if (sort = 1) {\n    return \"popularity\";\n  } else {\n    return \"primary_release\";\n  }\n}\n\nfunction makeSearch(props) {\n  let cert = \"\";\n  console.log(props);\n\n  for (let i = 0; i < props.rating.length - 1; i++) {\n    cert += props.rating[i] + \"|\";\n  }\n\n  cert += props.rating[props.rating.length - 1];\n  let genres = \"\";\n\n  for (let i = 0; i < props.genreName.length - 1; i++) {\n    genres += getGenreID(props.genreName[i]) + \"|\";\n  }\n\n  genres += getGenreID(props.genreName[props.genreName.length - 1]);\n  let languages = \"\";\n\n  for (let i = 0; i < props.languageName.length - 1; i++) {\n    languages += getLanguageID(props.languageName[i]) + \"|\";\n  }\n\n  languages += getLanguageID(props.languageName[props.languageName.length - 1]);\n  return \"/filters/\" + cert + \"/\" + props.year[0] + \"/\" + props.year[1] + \"/\" + props.runTime[0] + \"/\" + props.runTime[1] + \"/\" + genres + \"/\" + languages + \"/\" + getSortingMethod(props.sortingMethod) + \".\" + (props.sortingDirection ? \"asc\" : \"desc\");\n}\n\nexport default class PageContents extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      movies: [],\n      oldprops: {}\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    axios.get(makeSearch(this.props)).then(res => {\n      console.log(res[\"data\"][\"results\"]);\n      const movies = res[\"data\"][\"results\"];\n      const oldprops = this.props;\n      this.setState({\n        movies,\n        oldprops\n      });\n    });\n    console.log(this.state);\n  }\n\n  componentDidUpdate() {\n    if (this.props != this.state.oldprops) {\n      console.log(this.props);\n      axios.get(makeSearch(this.props)).then(res => {\n        console.log(res[\"data\"][\"results\"]);\n        const movies = res[\"data\"][\"results\"];\n        const oldprops = this.props;\n        this.setState({\n          movies,\n          oldprops\n        });\n      });\n      console.log(this.state);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(ImageList, {\n      cols: getNumberCols(),\n      children: this.state.movies.map(item => item.poster_path && /*#__PURE__*/_jsxDEV(ImageListItem, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.poster_path ? `https://image.tmdb.org/t/p/w500${item.poster_path}` : \"https://www.digitalartsonline.co.uk/cmsdata/slideshow/3347360/Step2.jpg\",\n          srcSet: item.poster_path ? `https://image.tmdb.org/t/p/w500${item.poster_path}` : \"https://www.digitalartsonline.co.uk/cmsdata/slideshow/3347360/Step2.jpg\",\n          alt: item.title,\n          loading: \"lazy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ImageListItemBar, {\n          title: item.title,\n          subtitle: item.rating,\n          actionIcon: /*#__PURE__*/_jsxDEV(IconButton, {\n            sx: {\n              color: \"rgba(255, 255, 255, 0.54)\"\n            },\n            \"aria-label\": `info about ${item.title}`,\n            onClick: () => {\n              window.location.href = \"https://www.themoviedb.org/movie/\" + item[\"id\"];\n            },\n            children: /*#__PURE__*/_jsxDEV(LocalMoviesIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }, this)]\n      }, item.poster_path, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/lgentle/repos/CSCapstoneProject/react/cscapstone/src/components/GridPageContents/PageContents.js"],"names":["React","ImageList","ImageListItem","ImageListItemBar","IconButton","LocalMoviesIcon","genreIds","languages","axios","getNumberCols","innerWidth","width","window","Math","floor","getGenreID","genre","i","length","getLanguageID","lang","getSortingMethod","sort","makeSearch","props","cert","console","log","rating","genres","genreName","languageName","year","runTime","sortingMethod","sortingDirection","PageContents","Component","state","movies","oldprops","componentDidMount","get","then","res","setState","componentDidUpdate","render","map","item","poster_path","title","color","location","href"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\nimport ImageListItemBar from \"@mui/material/ImageListItemBar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport LocalMoviesIcon from \"@mui/icons-material/LocalMovies\";\nimport { genreIds } from \"./genreIds\";\nimport { languages } from \"./languages\";\nimport axios from \"axios\";\n\nfunction getNumberCols() {\n  const { innerWidth: width } = window;\n  return Math.floor(width / 200);\n}\n\nfunction getGenreID(genre) {\n  for (let i = 0; i < genreIds.length; i++) {\n    if (genreIds[i][\"name\"] === genre) {\n      return genreIds[i][\"id\"];\n    }\n  }\n}\n\nfunction getLanguageID(lang) {\n  for (let i = 0; i < languages.length; i++) {\n    if (languages[i][\"name\"] === lang) {\n      return languages[i][\"id\"];\n    }\n  }\n}\n\nfunction getSortingMethod(sort) {\n  if (sort == 0) {\n    return \"vote_average\";\n  } else if ((sort = 1)) {\n    return \"popularity\";\n  } else {\n    return \"primary_release\";\n  }\n}\n\nfunction makeSearch(props) {\n  let cert = \"\";\n  console.log(props);\n  for (let i = 0; i < props.rating.length - 1; i++) {\n    cert += props.rating[i] + \"|\";\n  }\n  cert += props.rating[props.rating.length - 1];\n\n  let genres = \"\";\n  for (let i = 0; i < props.genreName.length - 1; i++) {\n    genres += getGenreID(props.genreName[i]) + \"|\";\n  }\n  genres += getGenreID(props.genreName[props.genreName.length - 1]);\n\n  let languages = \"\";\n  for (let i = 0; i < props.languageName.length - 1; i++) {\n    languages += getLanguageID(props.languageName[i]) + \"|\";\n  }\n  languages += getLanguageID(props.languageName[props.languageName.length - 1]);\n\n  return (\n    \"/filters/\" +\n    cert +\n    \"/\" +\n    props.year[0] +\n    \"/\" +\n    props.year[1] +\n    \"/\" +\n    props.runTime[0] +\n    \"/\" +\n    props.runTime[1] +\n    \"/\" +\n    genres +\n    \"/\" +\n    languages +\n    \"/\" +\n    getSortingMethod(props.sortingMethod) +\n    \".\" +\n    (props.sortingDirection ? \"asc\" : \"desc\")\n  );\n}\n\nexport default class PageContents extends React.Component {\n  state = {\n    movies: [],\n    oldprops: {},\n  };\n\n  componentDidMount() {\n    console.log(this.props);\n    axios.get(makeSearch(this.props)).then((res) => {\n      console.log(res[\"data\"][\"results\"]);\n      const movies = res[\"data\"][\"results\"];\n      const oldprops = this.props;\n      this.setState({ movies, oldprops });\n    });\n    console.log(this.state);\n  }\n  componentDidUpdate() {\n    if (this.props != this.state.oldprops) {\n      console.log(this.props);\n      axios.get(makeSearch(this.props)).then((res) => {\n        console.log(res[\"data\"][\"results\"]);\n        const movies = res[\"data\"][\"results\"];\n        const oldprops = this.props;\n        this.setState({ movies, oldprops });\n      });\n      console.log(this.state);\n    }\n  }\n\n  render() {\n    return (\n      <ImageList cols={getNumberCols()}>\n        {this.state.movies.map(\n          (item) =>\n            item.poster_path && (\n              <ImageListItem key={item.poster_path}>\n                <img\n                  src={\n                    item.poster_path\n                      ? `https://image.tmdb.org/t/p/w500${item.poster_path}`\n                      : \"https://www.digitalartsonline.co.uk/cmsdata/slideshow/3347360/Step2.jpg\"\n                  }\n                  srcSet={\n                    item.poster_path\n                      ? `https://image.tmdb.org/t/p/w500${item.poster_path}`\n                      : \"https://www.digitalartsonline.co.uk/cmsdata/slideshow/3347360/Step2.jpg\"\n                  }\n                  alt={item.title}\n                  loading=\"lazy\"\n                />\n                <ImageListItemBar\n                  title={item.title}\n                  subtitle={item.rating}\n                  actionIcon={\n                    <IconButton\n                      sx={{ color: \"rgba(255, 255, 255, 0.54)\" }}\n                      aria-label={`info about ${item.title}`}\n                      onClick={() => {\n                        window.location.href =\n                          \"https://www.themoviedb.org/movie/\" + item[\"id\"];\n                      }}\n                    >\n                      <LocalMoviesIcon />\n                    </IconButton>\n                  }\n                />\n              </ImageListItem>\n            )\n        )}\n      </ImageList>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}