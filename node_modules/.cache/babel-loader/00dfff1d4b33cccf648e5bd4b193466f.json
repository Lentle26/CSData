{"ast":null,"code":"var _jsxFileName = \"/home/lgentle/repos/CSCapstoneProject/react/cscapstone/src/components/GridPageContents/PageContents.js\";\nimport * as React from \"react\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\nimport ImageListItemBar from \"@mui/material/ImageListItemBar\";\nimport { genreIds } from \"./genreIds\";\nimport { languages } from \"./languages\";\nimport MovieButton from \"./MovieButton\";\nimport axios from \"axios\";\nimport LoadPage from \"../LoadPage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction getNumberCols() {\n  const {\n    innerWidth: width\n  } = window;\n  return Math.floor(width / 250);\n}\n\nfunction getGenreID(genre) {\n  for (let i = 0; i < genreIds.length; i++) {\n    if (genreIds[i][\"name\"] === genre) {\n      return genreIds[i][\"id\"];\n    }\n  }\n}\n\nfunction getLanguageID(lang) {\n  for (let i = 0; i < languages.length; i++) {\n    if (languages[i][\"name\"] === lang) {\n      return languages[i][\"id\"];\n    }\n  }\n}\n\nfunction getSortingMethod(sort) {\n  if (sort == 0) {\n    return \"vote_average\";\n  } else if (sort = 1) {\n    return \"popularity\";\n  } else {\n    return \"primary_release\";\n  }\n}\n\nfunction getStreaming(streamingService) {\n  console.log(streamingService);\n\n  if (streamingService.length === 0) {\n    return \"all\";\n  } else {\n    return streamingService.join(\"|\");\n  }\n}\n\nfunction makeSearch(props) {\n  if (props.search != \"\") {\n    return \"/searchByTitle/\" + props.search;\n  } else {\n    let cert = \"\";\n    console.log(props);\n\n    for (let i = 0; i < props.rating.length - 1; i++) {\n      cert += props.rating[i] + \"|\";\n    }\n\n    cert += props.rating[props.rating.length - 1];\n    let genres = \"\";\n\n    for (let i = 0; i < props.genreName.length - 1; i++) {\n      genres += getGenreID(props.genreName[i]) + \"|\";\n    }\n\n    genres += getGenreID(props.genreName[props.genreName.length - 1]);\n    let languages = \"\";\n\n    for (let i = 0; i < props.languageName.length - 1; i++) {\n      languages += getLanguageID(props.languageName[i]) + \"|\";\n    }\n\n    languages += getLanguageID(props.languageName[props.languageName.length - 1]);\n    let watchFiler = props.seenIt ? \"true\" : \"false\";\n    return \"/filters/\" + watchFiler + \"/\" + cert + \"/\" + props.year[0] + \"/\" + props.year[1] + \"/\" + props.runTime[0] + \"/\" + props.runTime[1] + \"/\" + genres + \"/\" + languages + \"/\" + getSortingMethod(props.sortingMethod) + \".\" + (props.sortingDirection ? \"asc\" : \"desc\") + \"/\" + getStreaming(props.streamingService);\n  }\n}\n\nexport default class PageContents extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      movies: [],\n      oldprops: {}\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    axios.get(makeSearch(this.props)).then(res => {\n      console.log(res[\"data\"][\"results\"]);\n      const movies = res[\"data\"][\"results\"];\n      const oldprops = this.props;\n      this.setState({\n        movies,\n        oldprops\n      });\n    });\n    console.log(this.state);\n  }\n\n  componentDidUpdate() {\n    if (makeSearch(this.props) != makeSearch(this.state.oldprops)) {\n      console.log(this.props);\n      axios.get(makeSearch(this.props)).then(res => {\n        console.log(res[\"data\"][\"results\"]);\n        const movies = res[\"data\"][\"results\"];\n        const oldprops = this.props;\n        this.setState({\n          movies,\n          oldprops\n        });\n      });\n      console.log(this.state);\n    }\n  }\n\n  render() {\n    return makeSearch(this.props) == makeSearch(this.state.oldprops) ? /*#__PURE__*/_jsxDEV(ImageList, {\n      cols: getNumberCols(),\n      children: this.state.movies.map(item => item.poster_path && /*#__PURE__*/_jsxDEV(ImageListItem, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.poster_path ? `https://image.tmdb.org/t/p/w500${item.poster_path}` : \"https://www.digitalartsonline.co.uk/cmsdata/slideshow/3347360/Step2.jpg\",\n          srcSet: item.poster_path ? `https://image.tmdb.org/t/p/w500${item.poster_path}` : \"https://www.digitalartsonline.co.uk/cmsdata/slideshow/3347360/Step2.jpg\",\n          alt: item.title,\n          loading: \"lazy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ImageListItemBar, {\n          position: \"bottom\",\n          sx: {\n            background: \"rgba(0,0,0,0)\"\n          },\n          actionIcon: /*#__PURE__*/_jsxDEV(MovieButton, {\n            id: item.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }, this)]\n      }, item.poster_path, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(LoadPage, {\n      open: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/lgentle/repos/CSCapstoneProject/react/cscapstone/src/components/GridPageContents/PageContents.js"],"names":["React","ImageList","ImageListItem","ImageListItemBar","genreIds","languages","MovieButton","axios","LoadPage","getNumberCols","innerWidth","width","window","Math","floor","getGenreID","genre","i","length","getLanguageID","lang","getSortingMethod","sort","getStreaming","streamingService","console","log","join","makeSearch","props","search","cert","rating","genres","genreName","languageName","watchFiler","seenIt","year","runTime","sortingMethod","sortingDirection","PageContents","Component","state","movies","oldprops","componentDidMount","get","then","res","setState","componentDidUpdate","render","map","item","poster_path","title","background","id"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\nimport ImageListItemBar from \"@mui/material/ImageListItemBar\";\nimport { genreIds } from \"./genreIds\";\nimport { languages } from \"./languages\";\nimport MovieButton from \"./MovieButton\";\nimport axios from \"axios\";\nimport LoadPage from \"../LoadPage\";\nfunction getNumberCols() {\n  const { innerWidth: width } = window;\n  return Math.floor(width / 250);\n}\n\nfunction getGenreID(genre) {\n  for (let i = 0; i < genreIds.length; i++) {\n    if (genreIds[i][\"name\"] === genre) {\n      return genreIds[i][\"id\"];\n    }\n  }\n}\n\nfunction getLanguageID(lang) {\n  for (let i = 0; i < languages.length; i++) {\n    if (languages[i][\"name\"] === lang) {\n      return languages[i][\"id\"];\n    }\n  }\n}\n\nfunction getSortingMethod(sort) {\n  if (sort == 0) {\n    return \"vote_average\";\n  } else if ((sort = 1)) {\n    return \"popularity\";\n  } else {\n    return \"primary_release\";\n  }\n}\n\nfunction getStreaming(streamingService) {\n  console.log(streamingService);\n  if (streamingService.length === 0) {\n    return \"all\";\n  } else {\n    return streamingService.join(\"|\");\n  }\n}\n\nfunction makeSearch(props) {\n  if (props.search != \"\") {\n    return \"/searchByTitle/\" + props.search;\n  } else {\n    let cert = \"\";\n    console.log(props);\n    for (let i = 0; i < props.rating.length - 1; i++) {\n      cert += props.rating[i] + \"|\";\n    }\n    cert += props.rating[props.rating.length - 1];\n\n    let genres = \"\";\n    for (let i = 0; i < props.genreName.length - 1; i++) {\n      genres += getGenreID(props.genreName[i]) + \"|\";\n    }\n    genres += getGenreID(props.genreName[props.genreName.length - 1]);\n\n    let languages = \"\";\n    for (let i = 0; i < props.languageName.length - 1; i++) {\n      languages += getLanguageID(props.languageName[i]) + \"|\";\n    }\n    languages += getLanguageID(\n      props.languageName[props.languageName.length - 1]\n    );\n\n    let watchFiler = props.seenIt ? \"true\" : \"false\";\n\n    return (\n      \"/filters/\" +\n      watchFiler +\n      \"/\" +\n      cert +\n      \"/\" +\n      props.year[0] +\n      \"/\" +\n      props.year[1] +\n      \"/\" +\n      props.runTime[0] +\n      \"/\" +\n      props.runTime[1] +\n      \"/\" +\n      genres +\n      \"/\" +\n      languages +\n      \"/\" +\n      getSortingMethod(props.sortingMethod) +\n      \".\" +\n      (props.sortingDirection ? \"asc\" : \"desc\") +\n      \"/\" +\n      getStreaming(props.streamingService)\n    );\n  }\n}\n\nexport default class PageContents extends React.Component {\n  state = {\n    movies: [],\n    oldprops: {},\n  };\n\n  componentDidMount() {\n    console.log(this.props);\n    axios.get(makeSearch(this.props)).then((res) => {\n      console.log(res[\"data\"][\"results\"]);\n      const movies = res[\"data\"][\"results\"];\n      const oldprops = this.props;\n      this.setState({ movies, oldprops });\n    });\n    console.log(this.state);\n  }\n  componentDidUpdate() {\n    if (makeSearch(this.props) != makeSearch(this.state.oldprops)) {\n      console.log(this.props);\n      axios.get(makeSearch(this.props)).then((res) => {\n        console.log(res[\"data\"][\"results\"]);\n        const movies = res[\"data\"][\"results\"];\n        const oldprops = this.props;\n        this.setState({ movies, oldprops });\n      });\n      console.log(this.state);\n    }\n  }\n\n  render() {\n    return makeSearch(this.props) == makeSearch(this.state.oldprops) ? (\n      <ImageList cols={getNumberCols()}>\n        {this.state.movies.map(\n          (item) =>\n            item.poster_path && (\n              <ImageListItem key={item.poster_path}>\n                <img\n                  src={\n                    item.poster_path\n                      ? `https://image.tmdb.org/t/p/w500${item.poster_path}`\n                      : \"https://www.digitalartsonline.co.uk/cmsdata/slideshow/3347360/Step2.jpg\"\n                  }\n                  srcSet={\n                    item.poster_path\n                      ? `https://image.tmdb.org/t/p/w500${item.poster_path}`\n                      : \"https://www.digitalartsonline.co.uk/cmsdata/slideshow/3347360/Step2.jpg\"\n                  }\n                  alt={item.title}\n                  loading=\"lazy\"\n                />\n                <ImageListItemBar\n                  position=\"bottom\"\n                  sx={{\n                    background: \"rgba(0,0,0,0)\",\n                  }}\n                  actionIcon={<MovieButton id={item.id} />}\n                />\n              </ImageListItem>\n            )\n        )}\n      </ImageList>\n    ) : (\n      <LoadPage open={true} />\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}