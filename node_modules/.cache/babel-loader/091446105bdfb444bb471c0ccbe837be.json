{"ast":null,"code":"import _classCallCheck from\"/home/lgentle/repos/CSCapstoneProject/react/cscapstone/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/lgentle/repos/CSCapstoneProject/react/cscapstone/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/lgentle/repos/CSCapstoneProject/react/cscapstone/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/lgentle/repos/CSCapstoneProject/react/cscapstone/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import*as React from\"react\";import ImageList from\"@mui/material/ImageList\";import ImageListItem from\"@mui/material/ImageListItem\";import ImageListItemBar from\"@mui/material/ImageListItemBar\";import IconButton from\"@mui/material/IconButton\";import LocalMoviesIcon from\"@mui/icons-material/LocalMovies\";import{movieList}from\"./MovieList\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function getNumberCols(){var _window=window,width=_window.innerWidth;return Math.floor(width/200);}function makeSearch(props){cert=\"\";for(var i=0;i<props.rating.length-1;i++){cert+=props.rating[i]+'|';}cert+=props.rating[props.rating.length-1];console.log(cert);return\"/filters/\"+cert;}var PageContents=/*#__PURE__*/function(_React$Component){_inherits(PageContents,_React$Component);var _super=_createSuper(PageContents);function PageContents(){var _this;_classCallCheck(this,PageContents);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={movies:[]};return _this;}_createClass(PageContents,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(makeSearch(this.props)).then(function(res){console.log(res[\"data\"][\"results\"]);var movies=res[\"data\"][\"results\"];_this2.setState({movies:movies});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(ImageList,{cols:getNumberCols(),children:this.state.movies.map(function(item){return/*#__PURE__*/_jsxs(ImageListItem,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/w500\".concat(item.poster_path),srcSet:\"https://image.tmdb.org/t/p/w500\".concat(item.poster_path),alt:item.title,loading:\"lazy\"}),/*#__PURE__*/_jsx(ImageListItemBar,{title:item.title,subtitle:item.rating,actionIcon:/*#__PURE__*/_jsx(IconButton,{sx:{color:\"rgba(255, 255, 255, 0.54)\"},\"aria-label\":\"info about \".concat(item.title),children:/*#__PURE__*/_jsx(LocalMoviesIcon,{})})})]},item.poster_path);})});}}]);return PageContents;}(React.Component);export{PageContents as default};","map":{"version":3,"sources":["/home/lgentle/repos/CSCapstoneProject/react/cscapstone/src/components/GridPageContents/PageContents.js"],"names":["React","ImageList","ImageListItem","ImageListItemBar","IconButton","LocalMoviesIcon","movieList","axios","getNumberCols","window","width","innerWidth","Math","floor","makeSearch","props","cert","i","rating","length","console","log","PageContents","state","movies","get","then","res","setState","map","item","poster_path","title","color","Component"],"mappings":"giBAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,gCAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,eAAP,KAA4B,iCAA5B,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,aAAT,EAAyB,CACvB,YAA8BC,MAA9B,CAAoBC,KAApB,SAAQC,UAAR,CACA,MAAOC,CAAAA,IAAI,CAACC,KAAL,CAAWH,KAAK,CAAG,GAAnB,CAAP,CACD,CAED,QAASI,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACzBC,IAAI,CAAC,EAAL,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,KAAK,CAACG,MAAN,CAAaC,MAAb,CAAoB,CAAxC,CAA2CF,CAAC,EAA5C,CAAgD,CAC9CD,IAAI,EAAED,KAAK,CAACG,MAAN,CAAaD,CAAb,EAAgB,GAAtB,CACD,CACDD,IAAI,EAAED,KAAK,CAACG,MAAN,CAAaH,KAAK,CAACG,MAAN,CAAaC,MAAb,CAAoB,CAAjC,CAAN,CACAC,OAAO,CAACC,GAAR,CAAYL,IAAZ,EACA,MAAO,YAAYA,IAAnB,CACD,C,GAEoBM,CAAAA,Y,+VACnBC,K,CAAQ,CACNC,MAAM,CAAE,EADF,C,yEAIR,4BAAoB,iBAClBjB,KAAK,CAACkB,GAAN,CAAUX,UAAU,CAAC,KAAKC,KAAN,CAApB,EAAkCW,IAAlC,CAAuC,SAACC,GAAD,CAAS,CAC9CP,OAAO,CAACC,GAAR,CAAYM,GAAG,CAAC,MAAD,CAAH,CAAY,SAAZ,CAAZ,EACA,GAAMH,CAAAA,MAAM,CAAGG,GAAG,CAAC,MAAD,CAAH,CAAY,SAAZ,CAAf,CACA,MAAI,CAACC,QAAL,CAAc,CAAEJ,MAAM,CAANA,MAAF,CAAd,EACD,CAJD,EAKD,C,sBAED,iBAAS,CACP,mBACE,KAAC,SAAD,EAAW,IAAI,CAAEhB,aAAa,EAA9B,UACG,KAAKe,KAAL,CAAWC,MAAX,CAAkBK,GAAlB,CAAsB,SAACC,IAAD,qBACrB,MAAC,aAAD,yBACE,YACE,GAAG,0CAAoCA,IAAI,CAACC,WAAzC,CADL,CAEE,MAAM,0CAAoCD,IAAI,CAACC,WAAzC,CAFR,CAGE,GAAG,CAAED,IAAI,CAACE,KAHZ,CAIE,OAAO,CAAC,MAJV,EADF,cAOE,KAAC,gBAAD,EACE,KAAK,CAAEF,IAAI,CAACE,KADd,CAEE,QAAQ,CAAEF,IAAI,CAACZ,MAFjB,CAGE,UAAU,cACR,KAAC,UAAD,EACE,EAAE,CAAE,CAAEe,KAAK,CAAE,2BAAT,CADN,CAEE,kCAA0BH,IAAI,CAACE,KAA/B,CAFF,uBAIE,KAAC,eAAD,IAJF,EAJJ,EAPF,GAAoBF,IAAI,CAACC,WAAzB,CADqB,EAAtB,CADH,EADF,CA0BD,C,0BAxCuC/B,KAAK,CAACkC,S,SAA3BZ,Y","sourcesContent":["import * as React from \"react\";\nimport ImageList from \"@mui/material/ImageList\";\nimport ImageListItem from \"@mui/material/ImageListItem\";\nimport ImageListItemBar from \"@mui/material/ImageListItemBar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport LocalMoviesIcon from \"@mui/icons-material/LocalMovies\";\nimport { movieList } from \"./MovieList\";\nimport axios from \"axios\";\n\nfunction getNumberCols() {\n  const { innerWidth: width } = window;\n  return Math.floor(width / 200);\n}\n\nfunction makeSearch(props) {\n  cert=\"\"\n  for (let i = 0; i < props.rating.length-1; i++) {\n    cert+=props.rating[i]+'|'\n  }\n  cert+=props.rating[props.rating.length-1]\n  console.log(cert)\n  return \"/filters/\"+cert;\n}\n\nexport default class PageContents extends React.Component {\n  state = {\n    movies: [],\n  };\n\n  componentDidMount() {\n    axios.get(makeSearch(this.props)).then((res) => {\n      console.log(res[\"data\"][\"results\"]);\n      const movies = res[\"data\"][\"results\"];\n      this.setState({ movies });\n    });\n  }\n\n  render() {\n    return (\n      <ImageList cols={getNumberCols()}>\n        {this.state.movies.map((item) => (\n          <ImageListItem key={item.poster_path}>\n            <img\n              src={`https://image.tmdb.org/t/p/w500${item.poster_path}`}\n              srcSet={`https://image.tmdb.org/t/p/w500${item.poster_path}`}\n              alt={item.title}\n              loading=\"lazy\"\n            />\n            <ImageListItemBar\n              title={item.title}\n              subtitle={item.rating}\n              actionIcon={\n                <IconButton\n                  sx={{ color: \"rgba(255, 255, 255, 0.54)\" }}\n                  aria-label={`info about ${item.title}`}\n                >\n                  <LocalMoviesIcon />\n                </IconButton>\n              }\n            />\n          </ImageListItem>\n        ))}\n      </ImageList>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}